<!doctype html><html><head><title>The One with Shallow Copy and Deep Copy</title><meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><meta name=google-site-verification content><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name=viewport><meta content="telephone=no" name=format-detection><meta name=description content="An introduction about Shallow Copy and Deep Copy"><meta name=renderer content="webkit"><meta name=theme-color content="#ffffff"><link type=text/css rel=stylesheet href=/vendor/css/bootstrap.min.css><link rel=stylesheet href=https://lucassan.github.io/scss/journal.min.c5d92f380bf10f6849c7ac487c7df2b22c081e0851e5339224f1ae29210b20d2.css integrity="sha256-xdkvOAvxD2hJx6xIfH3ysiwIHghR5TOSJPGuKSELINI=" media=screen><link rel=stylesheet href=https://lucassan.github.io/scss/dark-mode.min.9f8d8c2df9285089d141edd4a50cb7506c7948e6ab79a29968dced1bd0ab7d22.css integrity="sha256-n42MLfkoUInRQe3UpQy3UGx5SOareaKZaNztG9CrfSI=" media=screen><script src=/vendor/js/loadCSS.js></script>
<script>loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons")</script><script src=/js/toc.js></script></head><body><div id=app><div id=sideContainer class=side-container><a class="a-block nav-head false" href=https://lucassan.github.io/><div class=nav-title>Lucas Santos</div></a><div class=nav-link-list></div><div class=nav-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
2022 Lucas Santos</div></div><div id=extraContainer class=extra-container><div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }"><div class=toc-content><center>- CATALOG -</center><ul><ul><li><a href=#shallow-copy onclick="onNavClick(`#shallow-copy-nav`)" id=shallow-copy-nav>Shallow Copy</a></li><li><a href=#deep-copy onclick="onNavClick(`#deep-copy-nav`)" id=deep-copy-nav>Deep Copy</a></li><ul><li><a href=#example-shallow-copy onclick="onNavClick(`#example-shallow-copy-nav`)" id=example-shallow-copy-nav>Example Shallow Copy:</a></li></ul></div></div><div class=pagination><a id=globalBackToTop class="pagination-action animated-visibility" href=#top :class="{ invisible: scrollY == 0 }"><i class="material-icons pagination-action-icon">keyboard_arrow_up</i></a>
<a type=button class=pagination-action id=darkModeToggleButton><span class="material-icons pagination-action-icon" id=darkModeToggleIcon>dark_mode</span></a></div></div><div class=single-column-drawer-container id=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }"><div class=drawer-content><div class=drawer-menu><div class=toc><div class=toc-content><center>- CATALOG -</center><ul><ul><li><a href=#shallow-copy onclick="onNavClick(`#shallow-copy-nav`)" id=shallow-copy-nav>Shallow Copy</a></li><li><a href=#deep-copy onclick="onNavClick(`#deep-copy-nav`)" id=deep-copy-nav>Deep Copy</a></li><ul><li><a href=#example-shallow-copy onclick="onNavClick(`#example-shallow-copy-nav`)" id=example-shallow-copy-nav>Example Shallow Copy:</a></li></ul></div></div></div></div></div><transition name=fade><div id=drawer-mask v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div></transition><nav id=navBar class="navbar sticky-top navbar-light single-column-nav-container"><div id=navBackground class=nav-background></div><div class="container container-narrow nav-content"><button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer>
<i class=material-icons>menu</i></button>
<a id=navTitle class=navbar-brand href=https://lucassan.github.io/>Lucas Santos</a>
<button type=button class=nav-darkmode-toggle id=darkModeToggleButton2>
<i class=material-icons id=darkModeToggleIcon2>dark_mode</i></button></div></nav><div class=single-column-header-container id=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }"><a href=https://lucassan.github.io/><div class=single-column-header-title>Lucas Santos</div></a></div><div id=content><div id=streamContainer class=stream-container><div class="post-list-container post-list-container-shadow"><div class=post><div class=post-head-wrapper-text-only><div class=post-title>The One with Shallow Copy and Deep Copy<div class=post-subtitle>An introduction about Shallow Copy and Deep Copy</div><div class=post-meta><time itemprop=datePublished>2020-04-19 13:32</time>
<i class=material-icons>label</i>
<a href=/tags/javascript>Javascript</a>
&nbsp;</div></div></div><div class=post-body-wrapper><div class=post-body v-pre><p>Have you ever wonder how objects are cloned or copied ?</p><p><em>[I&rsquo;ll assume that you said no]</em></p><p>So, let me introduce you how a Shallow Copy and a Deep Copy works and the difference between them</p><p><em>[Drumrolls begin]</em></p><h2 id=shallow-copy>Shallow Copy</h2><p>It basically get the reference from the source object and put into the target object.
Think about it as a copy of the source object address. So, the addresses of the source object and target object will be the same i.e. they will be pointing to the same memory location.</p><h2 id=deep-copy>Deep Copy</h2><p>It basically makes a copy of all the members of the source object, allocates different memory locations for the target object and then assigns the copied members to this target object to achieve deep copy. In this way, if the source object vanishes, the target object still valid in the memory.</p><h3 id=example-shallow-copy>Example Shallow Copy:</h3><pre tabindex=0><code>const sourceObj = {
    name: ‘Lucas’,
    age: 31,
};
const target = sourceObj;
</code></pre><p>If we change a value:</p><p><code>sourceObj.name = ‘Amanda’;</code></p><p>This statement will also change name from target, since we have a shallow copy, or a reference to sourceObj. This means, you’re losing the original data as well.
But, creating a brand new variable by using the properties from the original sourceObj variable, you can create a deep copy.</p><pre tabindex=0><code>const target = {
    name: sourceObj.name,
    age: sourceObj.age,
};
</code></pre><p>Now if you change target.name, it will only affect target and not sourceObj.</p><p><img src=%7B%7Bsite.baseurl%7D%7D/assets/img/shallow_deep_copy.png alt=Shallow></p><p>But I think we can go further in this explanation if we think about primitives types in Javascript.</p><p>What are the primitive types in Javascript !?</p><p>Well we can say that primitive types in Javascript are</p><ul><li><code>number</code></li><li><code>string</code></li><li><code>boolean</code></li><li><code>null</code></li><li><code>undefined</code></li><li><code>Symbol</code></li></ul><p>All the others data types in Javascript are objects, like</p><ul><li><code>Objects</code></li><li><code>Functions</code></li><li><code>Arrays</code></li><li><code>Regex</code></li></ul><p>Two rules over here:</p><ol><li>Primitives types are passed by value, and are immutable.</li><li>Object are passed by reference, and are mutables.</li></ol><p>So, if you make something like</p><pre tabindex=0><code>const object1 = {}
const object2 = {}
console.log(object1 === object2) // false
</code></pre><p>this is happening because when you create a constant with <code>{}</code>, this will make Javascript allocate a piece of memory to it. So object1 has a piece of memory, and object2 has another piece of memory, so they are two different objects, and then when you ask if object1 is equal to object2, the answer is false.</p><p>And now, if you make something like</p><pre tabindex=0><code>const object1 = {}
const object2 = object1
console.log(object1 === object2) // true
</code></pre><p>this one will be true because object2 has a reference to object1 memory address (like we saw in Shallow Copy).</p><p><em>Any questions, opinions or insults !? ;)</em></p><hr width=100% id=EOF><p style=color:#777>Last modified on 2020-04-19</p></div></div><nav class=post-pagination><a class=newer-posts href=https://lucassan.github.io/2020-04-29-var-let-const/>Next<br>The One with Var, Let and Const</a>
<a class=older-posts>Previous<br>No older posts.</a></nav><div class=post-comment-wrapper></div></div></div></div></div><div id=single-column-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
2022 Lucas Santos</div></div><script src=/js/journal.js></script></body></html>